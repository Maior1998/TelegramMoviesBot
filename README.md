[![Test-Workflow](https://img.shields.io/badge/%D0%A7%D0%95%D0%A0%D0%95%D0%A8%D0%9D%D0%AF-%D0%97%D0%90%D0%9A%D0%9E%D0%9D%D0%A7%D0%98%D0%9B%D0%90%D0%A1%D0%AC-red)](https://img.shields.io/badge/%D0%A7%D0%95%D0%A0%D0%95%D0%A8%D0%9D%D0%AF-%D0%97%D0%90%D0%9A%D0%9E%D0%9D%D0%A7%D0%98%D0%9B%D0%90%D0%A1%D0%AC-red)
# TelegramMoviesBot
TelegramMoviesBot - это Telegram бот, который собирает данные об анонсированных фильмах и сериалах c ресурса TheMovieDb и отправляет уведомление о них пользователю.<br>
Пользователь имеет возможность настроить фильтрацию контента, о котором его будет оповещать бот. Фильтрация может проходить по: жанрам, странам выхода и типу фильм\сериал.<br>
Бот имеет файл с конфигурацией, в которой прописываются: Интервал времени обновления, ключ API Telegram и ключ API TheMovieDb.


## Quick Start
Для того, чтобы запустить бота у себя, необходимо выполнить следующие команды.<br>
Ubuntu:
```
git clone https://github.com/Maior1998/TelegramMoviesBot.git
cd TelegramMoviesBot/TelegramMoviesBot
dotnet build TelegramMoviesBot.csproj --configuration Release
env TELEGRAM_API=<<YOUR TELEGRAM API KEY>> TMDB_API_KEY=<<YOUR TMDB API KEY>> dotnet run TelegramMoviesBot.csproj -c Release
```
  
После запуска проекта, бот готов принимать пользовательские команды и обрабатывать видео с API TMDB. Учтите, что после каждого перезапуска бот сбрасывает свою базу данных.

## Команды
Команды, которыми оперирует бот:

| Команда | Описание |
|----------------|---------|
| Start | Показывает основное меню, в котором будет отображаться текущий статус (Включен\выключен) и кнопки «Вкл\Выкл» и кнопка «Настройки» |
| Settings | Показывает меню настроек, а именно: Включен или выключен Бот в данный момент, список фильтров по Стране выхода, Жанрам, и типу видео с кнопками для редактирования этих фильтров |
| Disable | Выключает бота для этого пользователя, переводя переменную «IsEnabled» в его настройках в состояние «false» |
| Enable | Включает бота для этого пользователя, переводя переменную «IsEnabled» в его настройках в состояние «true» |
| Genres | Выводит список всех жанров, которые умеет фильтровать бот |
| Add-genre | Добавляет жанр в список предпочтений пользователя («UserSettings».«Genres»), если его там еще нет |
| Remove-genre | Добавляет жанр из списка предпочтений пользователя («UserSettings».«Genres»), если он там есть |
| Clear-genres | Очищает список предпочитаемых жанров пользователя («UserSettings».«Genres»), |
| setvotesaverage | Вход в режим установки фильтра средней оценки видео |
| setvotescount | Вход в режим установки фильтра минимального числа оценок |

## Gitflow
master - стабильные (релизные) версии.<br>
dev - ветвь разработки<br>
deploy - ветвь для CI\CD<br>
Остальные ветви носят названия, указывающие на задачи, для выполнения которых они были созданы и сливаются в dev при закрытии задачи.
